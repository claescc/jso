<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>RijksregisterNr</title>
    <script>
        'use strict';

        function controleRijks() {
            var invoerNr = frm.invoer.value;
            var regX = new RegExp(/\d{11}/);     // 11 cijfers

            if (regX.test(invoerNr)) {      // true of false terug
                var controleRijks = "Correct";
                frm.pasteVeld.value = controleRijks;
            } else {
                var controleRijks = "Fout";
                frm.pasteVeld.value = controleRijks;
            }
        }
        function leeftijdRijksNr() {
            var x = frm.invoer.value;
            var jaar = x.slice(0, 2);
            var maand = x.slice(2, 4);       // slice() = substring() = substr() -> neemt stuk eruit
            var dag = x.slice(4, 6);
            jaar = parseInt(jaar);      //controle laatste 2 cijfers nog insteken 
            var result = 117 - jaar;                                // 117 = (2017 - 1900)
            // var result = "Jaar " + jaar + " maand " + maand + " dag " +dag; 
            frm.pasteVeld3.value = result;
        
        }
        function checkDatum() { // FOUT WERKT NIET ???????????????????????????????????
            var invoerDatum = frm.invoer.value;
                invoerDatum = invoerDatum.slice(0,6);
            var regX = new RegExp(/^[0-9]{2}(0[1-9]|1[0-2])[1-3][0-9]$/); // Geef een datum 88 06 02
                                    // 88     0+6 | max 1+2     29
            if (regX.test(invoerDatum)) {      // true of false terug
                var checkD = "Correcte Datum";
                frm.pasteVeld2.value = checkD;
            } else {
                var checkD = invoerDatum + "Fout: is geen Datum!";
                frm.pasteVeld2.value = checkD;
            }

        }

        //______________________________________________________________________________________
        function init() {
            var btnA = frm.btnControle;
            var btnDatum = frm.btnDatum;
            var btnAge = frm.btnAge;
            btnA.onclick = controleRijks;
            btnDatum.onclick = checkDatum;
            btnAge.onclick = leeftijdRijksNr;

        }

        window.onload = init;
//___________________________________________________________________________________END
    </script>

</head>

<body>
    <form name="frm">
        Rijksregisternummer:
        <input type="text" name="invoer" />
        <br>
        <br>
        <!-- Kopier van invoer  -->
        <input type="button" value="Controle" name="btnControle" />
        <br>
        <br>

        <input type="text" name="pasteVeld" style="width: 300px" />
        <br>
        <br>
        <!-- PLAK VELD -->
        <input type="button" value="Check Datum" name="btnDatum" />
        <br>
        <br>
        <input type="text" name="pasteVeld2" style="width: 300px" />
        <br>
        <br>
        <input type="button" value="Check Age" name="btnAge" />
        <br>
        <br>
        <input type="text" name="pasteVeld3" style="width: 300px" />
    </form>
</body>

</html>